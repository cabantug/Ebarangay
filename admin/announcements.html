<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Manage Announcements • Admin</title>
    <link rel="stylesheet" href="assets/admin-styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  </head>
  <body>
    <script src="assets/admin.js"></script>
    <script src="assets/admin-theme.js"></script>
    <script>
      let allAnnouncements = [];
      let filteredAnnouncements = [];
      let errorEl;

      function render() {
        const tbody = document.querySelector('tbody');
        if (filteredAnnouncements.length === 0) {
          tbody.innerHTML =
            '<tr><td colspan="5" class="text-center text-gray-500">No announcements found</td></tr>';
                 // ...existing code...
          <head>
            <meta charset="UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <title>Manage Announcements • Admin</title>
            <!-- changed to absolute admin paths -->
            <link rel="stylesheet" href="/admin/assets/admin-styles.css" />
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
          </head>
          <body>
            <!-- changed to absolute admin paths -->
            <script src="/admin/assets/admin.js"></script>
            <script src="/admin/assets/admin-theme.js"></script>
            <script>
              // ...existing code...
              document.getElementById('signout')?.addEventListener('click', (e) => {
                e.preventDefault();
                window.brgyAdmin.logout();
                // redirect to admin login page using absolute admin path
                window.location.href = '/admin/index.html';
              });
              // ...existing code...
            </script>
            <header class="site-header">
              <div class="container header-inner">
                <h1 class="site-title">
                  <i class="fas fa-bullhorn"></i>
                  Manage Announcements
                </h1>
                <nav class="site-nav">
                  <!-- changed nav links to include /admin base -->
                  <a href="/admin/dashboard.html">
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard
                  </a>
                  <a href="/admin/certifications.html">
                    <i class="fas fa-certificate"></i>
                    Certifications
                  </a>
                  <a href="/admin/complaints.html">
                    <i class="fas fa-exclamation-triangle"></i>
                    Complaints
                  </a>
                  <a href="/admin/announcements.html" aria-current="page">
                    <i class="fas fa-bullhorn"></i>
                    Announcements
                  </a>
                  <a href="/admin/accidents.html">
                    <i class="fas fa-car-crash"></i>
                    Accidents
                  </a>
                  <a href="/admin/residents.html">
                    <i class="fas fa-users"></i>
                    Residents
                  </a>
                  <a href="/admin/messages.html">
                    <i class="fas fa-comments"></i>
                    Messages
                  </a>
                  <a href="/admin/registrations.html">
                    <i class="fas fa-user-plus"></i>
                    Registrations
                  </a>
                  <a href="#" id="signout">
                    <i class="fas fa-sign-out-alt"></i>
                    Sign out
                  </a>
                </nav>
              </div>
              <p id="announcement-error" class="text-danger"></p>
            </header>
            // ...existing code...            <!doctype html>
            <html lang="en">
            <head>
              <meta charset="utf-8" />
              <meta name="viewport" content="width=device-width,initial-scale=1" />
              <title>Manage Announcements • Admin</title>
              <link rel="stylesheet" href="/admin/assets/admin-styles.css" />
              <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
              <style>
                /* small local fixes so the page looks OK if stylesheet missing */
                .container{max-width:1100px;margin:20px auto;padding:0 16px}
                .cards-grid{display:flex;gap:12px}
                .card{background:#fff;padding:12px;border-radius:8px}
                .form-row{display:flex;gap:8px;align-items:center}
                .form-row input,.form-row select{padding:8px;border-radius:6px;border:1px solid #ddd}
                .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.45);align-items:center;justify-content:center}
                .modal.active{display:flex}
                .modal-content{background:#fff;padding:16px;border-radius:8px;min-width:320px;max-width:720px;width:90%}
                .text-danger{color:#b91c1c}
                table{width:100%;border-collapse:collapse}
                th,td{padding:8px;border-bottom:1px solid #eee;text-align:left}
                .btn{padding:8px 10px;border-radius:6px;border:1px solid #ccc;background:#fff;cursor:pointer}
                .btn.primary{background:#2563eb;color:#fff;border-color:transparent}
                .tag{padding:4px 8px;border-radius:999px;color:#fff;font-size:12px}
                .tag.ready{background:#10b981}
                .tag.pending{background:#f59e0b}
              </style>
            </head>
            <body>
              <header class="site-header">
                <div class="container header-inner">
                  <h1 class="site-title"><i class="fas fa-bullhorn"></i> Manage Announcements</h1>
                  <nav class="site-nav" style="margin-top:8px">
                    <a href="/admin/dashboard.html">Dashboard</a> ·
                    <a href="/admin/announcements.html" aria-current="page">Announcements</a> ·
                    <a href="#" id="signout">Sign out</a>
                  </nav>
                </div>
                <p id="announcement-error" class="text-danger"></p>
              </header>
            
              <main class="container page">
                <div class="flex justify-between items-center mb-6" style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
                  <div>
                    <button id="btn-add" class="btn primary">+ New Announcement</button>
                  </div>
                  <div>
                    <input id="search" placeholder="Search announcements..." />
                  </div>
                </div>
            
                <!-- Statistics Cards -->
                <div class="cards-grid mb-6" style="margin-bottom:16px">
                  <div class="card" style="flex:1">
                    <strong>Total</strong>
                    <div id="stat-total">0</div>
                  </div>
                  <div class="card" style="width:160px">
                    <strong>Emergency</strong>
                    <div id="stat-emergency">0</div>
                  </div>
                  <div class="card" style="width:160px">
                    <strong>Event</strong>
                    <div id="stat-event">0</div>
                  </div>
                  <div class="card" style="width:160px">
                    <strong>Advisory</strong>
                    <div id="stat-advisory">0</div>
                  </div>
                </div>
            
                <!-- Filters -->
                <div class="form mb-6" style="margin-bottom:16px">
                  <div class="form-row">
                    <label for="type-filter">Type:</label>
                    <select id="type-filter">
                      <option value="">All</option>
                      <option value="emergency">Emergency</option>
                      <option value="event">Event</option>
                      <option value="advisory">Advisory</option>
                    </select>
                  </div>
                </div>
            
                <!-- Announcements Table -->
                <div class="card">
                  <table aria-describedby="Announcements">
                    <thead>
                      <tr><th>Type</th><th>Message</th><th>Date</th><th>Actions</th></tr>
                    </thead>
                    <tbody id="announcements-body">
                      <!-- rows injected by JS -->
                    </tbody>
                  </table>
                </div>
              </main>
            
              <!-- Announcement Modal -->
              <div id="announcement-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
                <div class="modal-content">
                  <h3 id="modal-title">New Announcement</h3>
                  <form id="announcement-form">
                    <input type="hidden" id="announcement-id" />
                    <div style="margin-bottom:8px">
                      <label for="announcement-type">Type</label><br/>
                      <select id="announcement-type" required>
                        <option value="emergency">Emergency</option>
                        <option value="event">Event</option>
                        <option value="advisory">Advisory</option>
                      </select>
                    </div>
                    <div style="margin-bottom:8px">
                      <label for="announcement-body">Message</label><br/>
                      <textarea id="announcement-body" rows="6" style="width:100%" required></textarea>
                    </div>
                    <div style="display:flex;justify-content:flex-end;gap:8px">
                      <button type="button" id="announcement-cancel" class="btn">Cancel</button>
                      <button type="submit" class="btn primary">Save</button>
                    </div>
                  </form>
                </div>
              </div>
            
              <script src="/admin/assets/admin.js"></script>
              <script src="/admin/assets/admin-theme.js"></script>
              <script>
                // Fixed and complete JS logic for announcements.html
                (function () {
                  const errorEl = document.getElementById('announcement-error');
                  const tbody = document.getElementById('announcements-body');
                  const typeFilter = document.getElementById('type-filter');
                  const searchInput = document.getElementById('search');
            
                  let allAnnouncements = [
                    // sample data fallback
                    { id: '1', type: 'event', body: 'Community cleanup this Saturday.', date: '2025-11-20', status: 'ready' },
                    { id: '2', type: 'advisory', body: 'Water interruption tomorrow.', date: '2025-11-22', status: 'pending' }
                  ];
                  let filteredAnnouncements = [];
            
                  function updateStats() {
                    const stats = {
                      total: allAnnouncements.length,
                      emergency: allAnnouncements.filter(a => a.type === 'emergency').length,
                      event: allAnnouncements.filter(a => a.type === 'event').length,
                      advisory: allAnnouncements.filter(a => a.type === 'advisory').length
                    };
                    document.getElementById('stat-total').textContent = stats.total;
                    document.getElementById('stat-emergency').textContent = stats.emergency;
                    document.getElementById('stat-event').textContent = stats.event;
                    document.getElementById('stat-advisory').textContent = stats.advisory;
                  }
            
                  function render() {
                    if (!Array.isArray(filteredAnnouncements)) filteredAnnouncements = [];
                    const rows = filteredAnnouncements.map(a => {
                      const tagClass = a.status === 'ready' ? 'tag ready' : (a.status === 'pending' ? 'tag pending' : 'tag');
                      return `
                        <tr data-id="${a.id}">
                          <td><strong>${escapeHtml(a.type)}</strong></td>
                          <td>${escapeHtml(a.body)}</td>
                          <td>${escapeHtml(a.date)}</td>
                          <td>
                            <button class="btn small edit">Edit</button>
                            <button class="btn small delete">Delete</button>
                            <button class="btn small notify">Notify</button>
                            <span class="${tagClass}" style="margin-left:8px">${escapeHtml(a.status || '')}</span>
                          </td>
                        </tr>
                      `;
                    }).join('');
                    tbody.innerHTML = rows || '<tr><td colspan="4" style="text-align:center">No announcements found</td></tr>';
                  }
            
                  function filterAnnouncements() {
                    const typeVal = typeFilter.value;
                    const q = (searchInput.value || '').trim().toLowerCase();
            
                    filteredAnnouncements = allAnnouncements.filter(a => {
                      const matchesType = !typeVal || a.type === typeVal;
                      const matchesSearch = !q || (a.body || '').toLowerCase().includes(q) || (a.type || '').toLowerCase().includes(q);
                      return matchesType && matchesSearch;
                    });
            
                    render();
                    updateStats();
                  }
            
                  function showAnnouncementModal(announcement = null) {
                    const modal = document.getElementById('announcement-modal');
                    document.getElementById('announcement-id').value = announcement ? announcement.id : '';
                    document.getElementById('announcement-type').value = announcement ? announcement.type : 'event';
                    document.getElementById('announcement-body').value = announcement ? announcement.body : '';
                    document.getElementById('modal-title').textContent = announcement ? 'Edit Announcement' : 'New Announcement';
                    modal.classList.add('active');
                    modal.setAttribute('aria-hidden', 'false');
                  }
            
                  function hideAnnouncementModal() {
                    const modal = document.getElementById('announcement-modal');
                    modal.classList.remove('active');
                    modal.setAttribute('aria-hidden', 'true');
                  }
            
                  async function loadAnnouncements() {
                    // attempt to load from backend API; fallback to sample data already present
                    try {
                      const res = await fetch('/admin/api/announcements');
                      if (!res.ok) throw new Error('no-api');
                      const data = await res.json();
                      if (Array.isArray(data)) allAnnouncements = data;
                    } catch (err) {
                      // keep sample data if API call fails
                      console.warn('Could not load announcements from API, using fallback data.', err);
                    } finally {
                      filterAnnouncements();
                    }
                  }
            
                  // Helpers
                  function escapeHtml(s) {
                    if (s == null) return '';
                    return String(s)
                      .replace(/&/g, '&amp;')
                      .replace(/</g, '&lt;')
                      .replace(/>/g, '&gt;')
                      .replace(/"/g, '&quot;')
                      .replace(/'/g, '&#39;');
                  }
            
                  // Event delegation for table actions
                  tbody.addEventListener('click', async (ev) => {
                    const tr = ev.target.closest('tr');
                    if (!tr) return;
                    const id = tr.getAttribute('data-id');
                    if (ev.target.classList.contains('edit')) {
                      const ann = allAnnouncements.find(a => a.id === id);
                      showAnnouncementModal(ann);
                      return;
                    }
                    if (ev.target.classList.contains('delete')) {
                      if (!confirm('Delete this announcement?')) return;
                      allAnnouncements = allAnnouncements.filter(a => a.id !== id);
                      // attempt backend delete
                      try { await fetch('/admin/api/announcements/' + encodeURIComponent(id), { method: 'DELETE' }); } catch(e){ /* ignore */ }
                      filterAnnouncements();
                      return;
                    }
                    if (ev.target.classList.contains('notify')) {
                      alert('Notification sent (demo).');
                      return;
                    }
                  });
            
                  // Form submit (create/update)
                  document.getElementById('announcement-form').addEventListener('submit', async (ev) => {
                    ev.preventDefault();
                    const id = document.getElementById('announcement-id').value || String(Date.now());
                    const type = document.getElementById('announcement-type').value;
                    const body = document.getElementById('announcement-body').value.trim();
                    if (!body) { alert('Message is required'); return; }
            
                    const item = { id, type, body, date: new Date().toISOString().slice(0,10), status: 'pending' };
                    const exists = allAnnouncements.find(a => a.id === id);
                    if (exists) {
                      Object.assign(exists, item);
                    } else {
                      allAnnouncements.unshift(item);
                    }
            
                    // attempt to persist to backend
                    try {
                      await fetch('/admin/api/announcements' + (exists ? '/' + encodeURIComponent(id) : ''), {
                        method: exists ? 'PUT' : 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(item)
                      });
                    } catch (err) {
                      console.warn('API save failed, changes kept in-memory for demo.', err);
                    }
            
                    hideAnnouncementModal();
                    filterAnnouncements();
                  });
            
                  document.getElementById('announcement-cancel').addEventListener('click', hideAnnouncementModal);
                  document.getElementById('btn-add').addEventListener('click', () => showAnnouncementModal(null));
                  typeFilter.addEventListener('change', filterAnnouncements);
                  searchInput.addEventListener('input', filterAnnouncements);
            
                  // Signout handler (safe)
                  document.getElementById('signout').addEventListener('click', (e) => {
                    e.preventDefault();
                    if (window.brgyAdmin && typeof window.brgyAdmin.logout === 'function') {
                      try { window.brgyAdmin.logout(); } catch {}
                    }
                    window.location.href = '/admin/index.html';
                  });
            
                  // Initial load
                  document.addEventListener('DOMContentLoaded', () => {
                    loadAnnouncements();
                  });
                })();
              </script>
            </body>
            </html>   return;
        }

        const rows = filteredAnnouncements
          .map((a) => {
            const typeClass =
              a.type === 'Emergency'
                ? 'danger'
                : a.type === 'Event'
                ? 'success'
                : a.type === 'Advisory'
                ? 'warning'
                : 'info';

            return `
            <tr>
              <td class="font-semibold">#${a.id}</td>
              <td class="font-medium">${a.title}</td>
              <td><span class="chip ${typeClass}">${a.type}</span></td>
              <td class="text-sm">${new Date(a.date).toLocaleDateString()}</td>
              <td class="flex gap-2">
                <button class="btn btn-primary btn-sm" data-act="edit" data-id="${a.id}">
                  <i class="fas fa-edit"></i>
                  Edit
                </button>
                <button class="btn btn-danger btn-sm" data-act="delete" data-id="${a.id}">
                  <i class="fas fa-trash"></i>
                  Delete
                </button>
                <button class="btn btn-secondary btn-sm" data-act="view" data-id="${a.id}">
                  <i class="fas fa-eye"></i>
                  View
                </button>
              </td>
            </tr>
          `;
          })
          .join('');
        tbody.innerHTML = rows;
      }

      function filterAnnouncements() {
        const typeFilter = document.getElementById('type-filter').value;
        const searchQuery = document.getElementById('search').value.toLowerCase();

        filteredAnnouncements = allAnnouncements.filter((announcement) => {
          const matchesType = typeFilter === 'All' || announcement.type === typeFilter;
          const matchesSearch =
            searchQuery === '' ||
            announcement.title.toLowerCase().includes(searchQuery) ||
            announcement.body.toLowerCase().includes(searchQuery);

          return matchesType && matchesSearch;
        });

        render();
        updateStats();
      }

      function updateStats() {
        const stats = {
          total: allAnnouncements.length,
          emergency: allAnnouncements.filter((a) => a.type === 'Emergency').length,
          event: allAnnouncements.filter((a) => a.type === 'Event').length,
          advisory: allAnnouncements.filter((a) => a.type === 'Advisory').length,
        };

        document.getElementById('stat-total').textContent = stats.total;
        document.getElementById('stat-emergency').textContent = stats.emergency;
        document.getElementById('stat-event').textContent = stats.event;
        document.getElementById('stat-advisory').textContent = stats.advisory;
      }

      function showAnnouncementModal(announcement = null) {
        const modal = document.getElementById('announcement-modal');
        const form = document.getElementById('announcement-form');

        if (announcement) {
          document.getElementById('modal-title').textContent = 'Edit Announcement';
          document.getElementById('announcement-id').value = announcement.id;
          document.getElementById('announcement-title').value = announcement.title;
          document.getElementById('announcement-type').value = announcement.type;
          document.getElementById('announcement-body').value = announcement.body;
        } else {
          document.getElementById('modal-title').textContent = 'Create New Announcement';
          form.reset();
          document.getElementById('announcement-id').value = '';
        }

        modal.classList.add('active');
      }

      function hideAnnouncementModal() {
        document.getElementById('announcement-modal').classList.remove('active');
      }

      async function loadAnnouncements() {
        try {
          errorEl.textContent = '';
          allAnnouncements = await window.brgyAdmin.listAnnouncements();
          filteredAnnouncements = [...allAnnouncements];
          render();
          updateStats();
        } catch (err) {
          errorEl.textContent = err.message || 'Unable to load announcements.';
        }
      }

      document.addEventListener('DOMContentLoaded', async () => {
        errorEl = document.getElementById('announcement-error');
        await window.brgyAdmin.requireAuth();
        await loadAnnouncements();

        document.getElementById('type-filter').addEventListener('change', filterAnnouncements);
        document.getElementById('search').addEventListener('input', filterAnnouncements);

        document.body.addEventListener('click', async (e) => {
          const btn = e.target.closest('button[data-act]');
          if (!btn) return;

          const id = Number(btn.getAttribute('data-id'));
          const act = btn.getAttribute('data-act');

          if (act === 'edit') {
            const announcement = allAnnouncements.find((a) => a.id === id);
            if (announcement) showAnnouncementModal(announcement);
          }
          if (act === 'delete' && confirm('Delete this announcement?')) {
            await window.brgyAdmin.deleteAnnouncement(id);
            await loadAnnouncements();
          }
          if (act === 'view') {
            const announcement = allAnnouncements.find((a) => a.id === id);
            if (announcement) {
              alert(
                `Title: ${announcement.title}\nType: ${announcement.type}\nDate: ${announcement.date}\n\nDetails:\n${announcement.body}`,
              );
            }
          }
        });

        document.getElementById('announcement-form').addEventListener('submit', async (e) => {
          e.preventDefault();

          const title = document.getElementById('announcement-title').value.trim();
          const type = document.getElementById('announcement-type').value;
          const body = document.getElementById('announcement-body').value.trim();
          const id = document.getElementById('announcement-id').value;

          if (!title || !body) {
            alert('Please fill in all required fields.');
            return;
          }

          if (id) {
            await window.brgyAdmin.updateAnnouncement(Number(id), { title, type, body });
          } else {
            await window.brgyAdmin.createAnnouncement({ title, type, body });
          }

          await loadAnnouncements();
          hideAnnouncementModal();
        });

        document.getElementById('modal-close').addEventListener('click', hideAnnouncementModal);
        document.getElementById('modal-cancel').addEventListener('click', hideAnnouncementModal);

        document.getElementById('announcement-modal').addEventListener('click', (e) => {
          if (e.target.id === 'announcement-modal') {
            hideAnnouncementModal();
          }
        });

        document.getElementById('signout')?.addEventListener('click', (e) => {
          e.preventDefault();
          window.brgyAdmin.logout();
          window.location.href = 'index.html';
        });
      });
    </script>
    <header class="site-header">
      <div class="container header-inner">
        <h1 class="site-title">
          <i class="fas fa-bullhorn"></i>
          Manage Announcements
        </h1>
        <nav class="site-nav">
          <a href="dashboard.html">
            <i class="fas fa-tachometer-alt"></i>
            Dashboard
          </a>
          <a href="certifications.html">
            <i class="fas fa-certificate"></i>
            Certifications
          </a>
          <a href="complaints.html">
            <i class="fas fa-exclamation-triangle"></i>
            Complaints
          </a>
          <a href="announcements.html" aria-current="page">
            <i class="fas fa-bullhorn"></i>
            Announcements
          </a>
          <a href="accidents.html">
            <i class="fas fa-car-crash"></i>
            Accidents
          </a>
          <a href="residents.html">
            <i class="fas fa-users"></i>
            Residents
          </a>
          <a href="messages.html">
            <i class="fas fa-comments"></i>
            Messages
          </a>
          <a href="registrations.html">
            <i class="fas fa-user-plus"></i>
            Registrations
          </a>
          <a href="#" id="signout">
            <i class="fas fa-sign-out-alt"></i>
            Sign out
          </a>
        </nav>
      </div>
      <p id="announcement-error" class="text-danger"></p>
    </header>

    <main class="container page">
      <div class="flex justify-between items-center mb-6">
        <h2>Announcement Management</h2>
        <button class="btn btn-primary" onclick="showAnnouncementModal()">
          <i class="fas fa-plus"></i>
          New Announcement
        </button>
      </div>
      
      <!-- Statistics Cards -->
      <div class="cards-grid mb-6">
        <div class="card info">
          <div class="flex items-center justify-between">
            <div>
              <h3>Total Announcements</h3>
              <p id="stat-total">0</p>
            </div>
            <i class="fas fa-bullhorn text-2xl text-info-color"></i>
          </div>
        </div>
        
        <div class="card danger">
          <div class="flex items-center justify-between">
            <div>
              <h3>Emergency</h3>
              <p id="stat-emergency">0</p>
            </div>
            <i class="fas fa-exclamation-triangle text-2xl text-danger-color"></i>
          </div>
        </div>
        
        <div class="card success">
          <div class="flex items-center justify-between">
            <div>
              <h3>Events</h3>
              <p id="stat-event">0</p>
            </div>
            <i class="fas fa-calendar-alt text-2xl text-success-color"></i>
          </div>
        </div>
        
        <div class="card warning">
          <div class="flex items-center justify-between">
            <div>
              <h3>Advisories</h3>
              <p id="stat-advisory">0</p>
            </div>
            <i class="fas fa-info-circle text-2xl text-warning-color"></i>
          </div>
        </div>
      </div>
      
      <!-- Filters -->
      <div class="form mb-6">
        <div class="fields">
          <div class="field">
            <label for="type-filter">
              <i class="fas fa-filter"></i>
              Type
            </label>
            <select id="type-filter">
              <option value="All">All Types</option>
              <option value="Emergency">Emergency</option>
              <option value="Event">Event</option>
              <option value="Advisory">Advisory</option>
            </select>
          </div>
          <div class="field">
            <label for="search">
              <i class="fas fa-search"></i>
              Search
            </label>
            <input id="search" placeholder="Search announcements..." />
          </div>
        </div>
      </div>

      <!-- Announcements Table -->
      <div class="card">
        <div class="overflow-x-auto">
          <table class="table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Title</th>
                <th>Type</th>
                <th>Date</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td colspan="5" class="text-center text-gray-500">Loading...</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </main>

    <!-- Announcement Modal -->
    <div id="announcement-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="modal-title" class="modal-title">Create New Announcement</h3>
          <button id="modal-close" class="modal-close">
            <i class="fas fa-times"></i>
          </button>
        </div>
        
        <form id="announcement-form" class="modal-body">
          <input type="hidden" id="announcement-id" />
          
          <div class="field mb-4">
            <label for="announcement-title">
              <i class="fas fa-heading"></i>
              Title *
            </label>
            <input id="announcement-title" type="text" required placeholder="Enter announcement title..." />
          </div>
          
          <div class="field mb-4">
            <label for="announcement-type">
              <i class="fas fa-tag"></i>
              Type *
            </label>
            <select id="announcement-type" required>
              <option value="Event">Event</option>
              <option value="Advisory">Advisory</option>
              <option value="Emergency">Emergency</option>
            </select>
          </div>
          
          <div class="field mb-4">
            <label for="announcement-body">
              <i class="fas fa-align-left"></i>
              Details *
            </label>
            <textarea id="announcement-body" required placeholder="Enter announcement details..." rows="6"></textarea>
          </div>
        </form>
        
        <div class="modal-footer">
          <button id="modal-cancel" class="btn btn-secondary">
            <i class="fas fa-times"></i>
            Cancel
          </button>
          <button type="submit" form="announcement-form" class="btn btn-primary">
            <i class="fas fa-save"></i>
            Save Announcement
          </button>
        </div>
      </div>
    </div>
  </body>
  </html>


